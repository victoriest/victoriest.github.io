<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Victoriest's Lab</title>
  <meta name="theme-color" content="#222222" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="http://victoriest.me/js/jquery.min.js"></script>
  <script src="http://victoriest.me/js/bootstrap.min.js"></script>
  <script src="http://victoriest.me/js/header.js"></script>
  <script src="http://victoriest.me/js/toc.js"></script>
  <link href="http://victoriest.me/css/bootstrap.min.css" rel="stylesheet">
  <link href="http://victoriest.me/css/theme.css" rel="stylesheet">
  <link href="http://victoriest.me/css/syntax.css" rel="stylesheet">
  <link href="http://victoriest.me/css/font-awesome/css/font-awesome.min.css" rel="stylesheet">
</head>

<body>

  

  


 <script type="text/javascript">
  WebFontConfig = {
    google: {
      families: ['Ubuntu::latin']
    }
  };
  (function() {
    var wf = document.createElement('script');
    wf.src = ('https:' == document.location.protocol ? 'https' : 'http') +
      '://ajax.googleapis.com/ajax/libs/webfont/1/webfont.js';
    wf.type = 'text/javascript';
    wf.async = 'true';
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(wf, s);
  })();
</script>

  <nav class="navbar navbar-inverse navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://victoriest.me/">Victoriest's Lab</a>
      </div>
      <div class="collapse navbar-collapse">
        <ul class="nav navbar-nav">
          <li><a href="http://victoriest.me/index.html">Home</a></li>
          <li><a href="http://victoriest.me/memo.html">Memo</a></li>
          <li><a href="http://victoriest.me/archive.html">Archive</a></li>
          <!--<li><a href="http://victoriest.me/tags.html">Tags</a></li>-->
          <li><a href="http://victoriest.me/about.html">About</a></li>
        </ul>
      </div>
    </div>
  </nav>


<div class="wrapper">
  <div class="content">
    <div class="container container-center">
      <div class="row">
        <div class="col-md-8">
          <div class="article">
            <div class="well">
              <h1><a href="http://victoriest.me/2015/11/VictoriEST%E7%9A%84Clojure%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-04">VictoriEST的Clojure学习笔记 - 04</a></h1>
              <div class="post-meta">
                <div class="post-time">
                  <i class="fa fa-calendar"></i>
                  <time>2015-11-18</time>
                </div>
                <!--
                <ul>
                  
                    <li><a href="http://victoriest.me/tag/clojure">clojure</a></li>
                  
                </ul>
                -->
              </div>
              <div class="post-content">
                <div id="toc" class="toc"></div>
                <p>继续说说序列</p>

<ul>
  <li>filter : 接受一个谓词和一个容器作为参数, 返回一个经过谓词判断为真的元素组成的序列.
    <div class="language-clojure highlighter-rouge"><pre class="highlight"><code><span class="n">user=&gt;</span><span class="w"> </span><span class="p">(</span><span class="nb">filter</span><span class="w"> </span><span class="n">even?</span><span class="w"> </span><span class="p">(</span><span class="nb">range</span><span class="w"> </span><span class="mi">50</span><span class="p">))</span><span class="w">
</span><span class="p">(</span><span class="nf">0</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="mi">6</span><span class="w"> </span><span class="mi">8</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="mi">12</span><span class="w"> </span><span class="mi">14</span><span class="w"> </span><span class="mi">16</span><span class="w"> </span><span class="mi">18</span><span class="w"> </span><span class="mi">20</span><span class="w"> </span><span class="mi">22</span><span class="w"> </span><span class="mi">24</span><span class="w"> </span><span class="mi">26</span><span class="w"> </span><span class="mi">28</span><span class="w"> </span><span class="mi">30</span><span class="w"> </span><span class="mi">32</span><span class="w"> </span><span class="mi">34</span><span class="w"> </span><span class="mi">36</span><span class="w"> </span><span class="mi">38</span><span class="w"> </span><span class="mi">40</span><span class="w"> </span><span class="mi">42</span><span class="w"> </span><span class="mi">44</span><span class="w"> </span><span class="mi">46</span><span class="w"> </span><span class="mi">48</span><span class="p">)</span><span class="w">
</span></code></pre>
    </div>
  </li>
  <li>take-while
    <div class="language-clojure highlighter-rouge"><pre class="highlight"><code><span class="n">user=&gt;</span><span class="w"> </span><span class="p">(</span><span class="nb">take-while</span><span class="w"> </span><span class="n">even?</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="p">])</span><span class="w">
</span><span class="p">()</span><span class="w">
</span><span class="n">user=&gt;</span><span class="w"> </span><span class="p">(</span><span class="nb">take-while</span><span class="w"> </span><span class="n">odd?</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="p">])</span><span class="w">
</span><span class="p">(</span><span class="nf">1</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span><span class="w">
</span></code></pre>
    </div>
  </li>
  <li>drop-while
    <div class="language-clojure highlighter-rouge"><pre class="highlight"><code><span class="n">user=&gt;</span><span class="w"> </span><span class="p">(</span><span class="nb">drop-while</span><span class="w"> </span><span class="n">odd?</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="p">])</span><span class="w">
</span><span class="p">(</span><span class="nf">2</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="mi">4</span><span class="p">)</span><span class="w">
</span></code></pre>
    </div>
  </li>
</ul>

<!--more-->

<ul>
  <li>split-at, split-with 把一个容器一分为二
    <div class="language-clojure highlighter-rouge"><pre class="highlight"><code><span class="n">user=&gt;</span><span class="w"> </span><span class="p">(</span><span class="nb">split-at</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="p">(</span><span class="nb">range</span><span class="w"> </span><span class="mi">10</span><span class="p">))</span><span class="w">
</span><span class="p">[(</span><span class="nf">0</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="mi">4</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="nf">5</span><span class="w"> </span><span class="mi">6</span><span class="w"> </span><span class="mi">7</span><span class="w"> </span><span class="mi">8</span><span class="w"> </span><span class="mi">9</span><span class="p">)]</span><span class="w">
</span><span class="n">user=&gt;</span><span class="w"> </span><span class="p">(</span><span class="nb">split-with</span><span class="w"> </span><span class="o">#</span><span class="p">(</span><span class="nb">&lt;</span><span class="w"> </span><span class="n">%</span><span class="w"> </span><span class="mi">5</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="nb">range</span><span class="w"> </span><span class="mi">10</span><span class="p">))</span><span class="w">
</span><span class="p">[(</span><span class="nf">0</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="mi">4</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="nf">5</span><span class="w"> </span><span class="mi">6</span><span class="w"> </span><span class="mi">7</span><span class="w"> </span><span class="mi">8</span><span class="w"> </span><span class="mi">9</span><span class="p">)]</span><span class="w">
</span></code></pre>
    </div>
  </li>
  <li>
    <p>every? : 序列中所有的元素都是谓词判断为真</p>
  </li>
  <li>
    <p>some : 返回序列中其中一个谓词为真的值, 如果没有为真的值, 返回nil</p>
  </li>
  <li>
    <p>not-every?</p>
  </li>
  <li>
    <p>not-any?</p>
  </li>
  <li>map : [f coll] 将 coll里的每个元素通过f计算得到一个新的序列
    <div class="language-clojure highlighter-rouge"><pre class="highlight"><code><span class="n">user=&gt;</span><span class="w"> </span><span class="p">(</span><span class="nb">map</span><span class="w"> </span><span class="o">#</span><span class="p">(</span><span class="nb">+</span><span class="w"> </span><span class="n">%</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="mi">5</span><span class="p">])</span><span class="w">
</span><span class="p">(</span><span class="nf">2</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="mi">6</span><span class="p">)</span><span class="w">
</span></code></pre>
    </div>
  </li>
  <li>reduce
    <div class="language-clojure highlighter-rouge"><pre class="highlight"><code><span class="n">user=&gt;</span><span class="w"> </span><span class="p">(</span><span class="nb">reduce</span><span class="w"> </span><span class="o">#</span><span class="p">(</span><span class="nb">+</span><span class="w"> </span><span class="n">%1</span><span class="w"> </span><span class="n">%2</span><span class="p">)</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="mi">5</span><span class="p">])</span><span class="w">
</span><span class="mi">15</span><span class="w">
</span><span class="c1">; 等价 (+ (+ (+ (+ 1 2) 3) 4) 5)
</span></code></pre>
    </div>
  </li>
  <li>
    <p>sort : 根据自然顺序排序</p>
  </li>
  <li>
    <p>sort-by : 根据给定的函数排序</p>
  </li>
  <li>for : 可以吧map啊 filter啊 看成是for的特殊形式
    <div class="language-clojure highlighter-rouge"><pre class="highlight"><code><span class="n">user=&gt;</span><span class="w"> </span><span class="p">(</span><span class="k">for</span><span class="w"> </span><span class="p">[</span><span class="n">n</span><span class="w"> </span><span class="p">(</span><span class="nb">range</span><span class="w"> </span><span class="mi">20</span><span class="p">)]</span><span class="w"> </span><span class="p">(</span><span class="nb">*</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="mi">1</span><span class="p">))</span><span class="w">
</span><span class="p">(</span><span class="nf">0</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="mi">6</span><span class="w"> </span><span class="mi">7</span><span class="w"> </span><span class="mi">8</span><span class="w"> </span><span class="mi">9</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="mi">11</span><span class="w"> </span><span class="mi">12</span><span class="w"> </span><span class="mi">13</span><span class="w"> </span><span class="mi">14</span><span class="w"> </span><span class="mi">15</span><span class="w"> </span><span class="mi">16</span><span class="w"> </span><span class="mi">17</span><span class="w"> </span><span class="mi">18</span><span class="w"> </span><span class="mi">19</span><span class="p">)</span><span class="w">
</span><span class="n">user=&gt;</span><span class="w"> </span><span class="p">(</span><span class="k">for</span><span class="w"> </span><span class="p">[</span><span class="n">n</span><span class="w"> </span><span class="p">(</span><span class="nb">range</span><span class="w"> </span><span class="mi">20</span><span class="p">)]</span><span class="w"> </span><span class="p">(</span><span class="nb">+</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="mi">1</span><span class="p">))</span><span class="w">
</span><span class="p">(</span><span class="nf">1</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="mi">6</span><span class="w"> </span><span class="mi">7</span><span class="w"> </span><span class="mi">8</span><span class="w"> </span><span class="mi">9</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="mi">11</span><span class="w"> </span><span class="mi">12</span><span class="w"> </span><span class="mi">13</span><span class="w"> </span><span class="mi">14</span><span class="w"> </span><span class="mi">15</span><span class="w"> </span><span class="mi">16</span><span class="w"> </span><span class="mi">17</span><span class="w"> </span><span class="mi">18</span><span class="w"> </span><span class="mi">19</span><span class="w"> </span><span class="mi">20</span><span class="p">)</span><span class="w">
</span><span class="n">user=&gt;</span><span class="w"> </span><span class="p">(</span><span class="k">for</span><span class="w"> </span><span class="p">[</span><span class="n">n</span><span class="w"> </span><span class="p">(</span><span class="nb">range</span><span class="w"> </span><span class="mi">20</span><span class="p">)</span><span class="w"> </span><span class="no">:when</span><span class="w"> </span><span class="p">(</span><span class="nb">&gt;</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="mi">10</span><span class="p">)]</span><span class="w"> </span><span class="p">(</span><span class="nb">+</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="mi">1</span><span class="p">))</span><span class="w">
</span><span class="p">(</span><span class="nf">12</span><span class="w"> </span><span class="mi">13</span><span class="w"> </span><span class="mi">14</span><span class="w"> </span><span class="mi">15</span><span class="w"> </span><span class="mi">16</span><span class="w"> </span><span class="mi">17</span><span class="w"> </span><span class="mi">18</span><span class="w"> </span><span class="mi">19</span><span class="w"> </span><span class="mi">20</span><span class="p">)</span><span class="w">
</span><span class="n">user=&gt;</span><span class="w"> </span><span class="p">(</span><span class="k">for</span><span class="w"> </span><span class="p">[</span><span class="n">n</span><span class="w"> </span><span class="p">(</span><span class="nb">range</span><span class="w"> </span><span class="mi">20</span><span class="p">)</span><span class="w"> </span><span class="no">:while</span><span class="w"> </span><span class="p">(</span><span class="nb">&gt;</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="mi">10</span><span class="p">)]</span><span class="w"> </span><span class="p">(</span><span class="nb">+</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="mi">1</span><span class="p">))</span><span class="w">
</span><span class="p">()</span><span class="w">
</span><span class="n">user=&gt;</span><span class="w"> </span><span class="p">(</span><span class="k">for</span><span class="w"> </span><span class="p">[</span><span class="n">n</span><span class="w"> </span><span class="p">(</span><span class="nb">range</span><span class="w"> </span><span class="mi">20</span><span class="p">)</span><span class="w"> </span><span class="no">:while</span><span class="w"> </span><span class="p">(</span><span class="nb">&lt;</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="mi">10</span><span class="p">)]</span><span class="w"> </span><span class="p">(</span><span class="nb">+</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="mi">1</span><span class="p">))</span><span class="w">
</span><span class="p">(</span><span class="nf">1</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="mi">6</span><span class="w"> </span><span class="mi">7</span><span class="w"> </span><span class="mi">8</span><span class="w"> </span><span class="mi">9</span><span class="w"> </span><span class="mi">10</span><span class="p">)</span><span class="w">
</span></code></pre>
    </div>
  </li>
  <li>
    <p>惰性序列 : 只在需要的时候才求值.<br />
如: (def x (for [i (range 1 3)] (do (println i) i)))<br />
调用x返回的是个惰性序列<br />
并不会执行println<br />
可以使用doall强制求值<br />
(doall x)<br />
另外, dorun也是强制求值, 但他不会吧元素保存在内存内clojure的序列函数也可以对应java的string以及容器.</p>
  </li>
  <li>
    <p>正则 : re-matcher, re-seq<br />
两者的区别是, 前者返回可变的序列, 后者返回不可变的</p>
  </li>
  <li>文件
    <div class="language-clojure highlighter-rouge"><pre class="highlight"><code><span class="n">user=&gt;</span><span class="w"> </span><span class="p">(</span><span class="nb">..</span><span class="w"> </span><span class="p">(</span><span class="nf">File.</span><span class="w"> </span><span class="s">"."</span><span class="p">)</span><span class="w"> </span><span class="n">listFiles</span><span class="p">)</span><span class="w">
</span><span class="o">#</span><span class="n">&lt;File</span><span class="p">[]</span><span class="w"> </span><span class="p">[</span><span class="n">Ljava.io.File</span><span class="c1">;@225b8d33&gt;
</span><span class="n">user=&gt;</span><span class="w"> </span><span class="p">(</span><span class="nb">seq</span><span class="w"> </span><span class="p">(</span><span class="nb">..</span><span class="w"> </span><span class="p">(</span><span class="nf">File.</span><span class="w"> </span><span class="s">"."</span><span class="p">)</span><span class="w"> </span><span class="n">listFiles</span><span class="p">))</span><span class="w">
</span><span class="c1">;= 这下面是列出来的文件
</span><span class="p">(</span><span class="nb">map</span><span class="w"> </span><span class="o">#</span><span class="p">(</span><span class="nb">..</span><span class="w"> </span><span class="n">%</span><span class="w"> </span><span class="n">getName</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="nb">seq</span><span class="w"> </span><span class="p">(</span><span class="nb">..</span><span class="w"> </span><span class="p">(</span><span class="nf">File.</span><span class="w"> </span><span class="s">"."</span><span class="p">)</span><span class="w"> </span><span class="n">listFiles</span><span class="p">)))</span><span class="w">
</span><span class="c1">;= 下面列出文件名
</span></code></pre>
    </div>
  </li>
  <li>打开文件流
    <div class="language-clojure highlighter-rouge"><pre class="highlight"><code><span class="n">user=&gt;</span><span class="w"> </span><span class="p">(</span><span class="nf">clojure.java.io/reader</span><span class="w"> </span><span class="s">"J:\\est.txt"</span><span class="p">)</span><span class="w">
</span><span class="o">#</span><span class="n">&lt;BufferedReader</span><span class="w"> </span><span class="n">java.io.BufferedReader</span><span class="err">@</span><span class="mi">370</span><span class="n">ff791&gt;</span><span class="w">
</span></code></pre>
    </div>
    <p>这样会导致文件一直处于打开状态 所以 我们用with-open</p>
    <div class="language-clojure highlighter-rouge"><pre class="highlight"><code><span class="n">user=&gt;</span><span class="w"> </span><span class="p">(</span><span class="nb">with-open</span><span class="w"> </span><span class="p">[</span><span class="n">rdr</span><span class="w"> </span><span class="p">(</span><span class="nf">clojure.java.io/reader</span><span class="w"> </span><span class="s">"J:\\est.txt"</span><span class="p">)]</span><span class="w">
</span><span class="o">#</span><span class="n">_=&gt;</span><span class="w"> </span><span class="p">(</span><span class="nb">count</span><span class="w"> </span><span class="p">(</span><span class="k">let</span><span class="w"> </span><span class="p">[</span><span class="n">x</span><span class="w"> </span><span class="p">(</span><span class="nb">line-seq</span><span class="w"> </span><span class="n">rdr</span><span class="p">)]</span><span class="w"> </span><span class="p">(</span><span class="nb">println</span><span class="w"> </span><span class="n">x</span><span class="p">)</span><span class="w"> </span><span class="n">x</span><span class="p">)))</span><span class="w">
</span><span class="p">(</span><span class="nf">estest</span><span class="w"> </span><span class="n">estest</span><span class="p">)</span><span class="w">
</span><span class="mi">2</span><span class="w">
</span></code></pre>
    </div>
  </li>
  <li>
    <p>xml解析<br />
clojure.xml/parse</p>
  </li>
  <li>peek 和 pop<br />
peek等同于first, pop等同于rest, 但pop一个空序列会抛出异常<br />
对于vector, 从末尾处理元素
    <div class="language-clojure highlighter-rouge"><pre class="highlight"><code><span class="n">user=&gt;</span><span class="w"> </span><span class="p">(</span><span class="k">def</span><span class="w"> </span><span class="n">coll</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="mi">5</span><span class="p">])</span><span class="w">
</span><span class="o">#</span><span class="ss">'user/coll</span><span class="w">
</span><span class="n">user=&gt;</span><span class="w"> </span><span class="p">(</span><span class="k">def</span><span class="w"> </span><span class="n">list-coll</span><span class="w"> </span><span class="o">'</span><span class="p">(</span><span class="nf">1</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="mi">5</span><span class="p">))</span><span class="w">
</span><span class="o">#</span><span class="ss">'user/list-coll</span><span class="w">
</span><span class="n">user=&gt;</span><span class="w"> </span><span class="p">(</span><span class="nb">peek</span><span class="w"> </span><span class="n">coll</span><span class="p">)</span><span class="w">
</span><span class="mi">5</span><span class="w">
</span><span class="n">user=&gt;</span><span class="w"> </span><span class="p">(</span><span class="nb">pop</span><span class="w"> </span><span class="n">coll</span><span class="p">)</span><span class="w">
</span><span class="p">[</span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="mi">4</span><span class="p">]</span><span class="w">
</span><span class="n">user=&gt;</span><span class="w"> </span><span class="p">(</span><span class="nb">peek</span><span class="w"> </span><span class="n">list-coll</span><span class="p">)</span><span class="w">
</span><span class="mi">1</span><span class="w">
</span><span class="n">user=&gt;</span><span class="w"> </span><span class="p">(</span><span class="nb">pop</span><span class="w"> </span><span class="n">list-coll</span><span class="p">)</span><span class="w">
</span><span class="p">(</span><span class="nf">2</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="mi">5</span><span class="p">)</span><span class="w">
</span></code></pre>
    </div>
  </li>
  <li>关于vector的函数<br />
get<br />
peek<br />
pop<br />
assoc<br />
subvec</li>
</ul>

<div class="language-clojure highlighter-rouge"><pre class="highlight"><code><span class="n">user=&gt;</span><span class="w"> </span><span class="p">(</span><span class="nb">dissoc</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="no">:c</span><span class="p">)</span><span class="w">
</span><span class="p">{</span><span class="no">:b</span><span class="w"> </span><span class="mi">2</span><span class="n">,</span><span class="w"> </span><span class="no">:a</span><span class="w"> </span><span class="mi">1</span><span class="p">}</span><span class="w">
</span><span class="n">user=&gt;</span><span class="w"> </span><span class="p">(</span><span class="k">def</span><span class="w"> </span><span class="n">v</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="mi">5</span><span class="p">])</span><span class="w">
</span><span class="o">#</span><span class="ss">'user/v</span><span class="w">
</span><span class="n">user=&gt;</span><span class="w"> </span><span class="p">(</span><span class="nb">get</span><span class="w"> </span><span class="n">v</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w">
</span><span class="mi">2</span><span class="w">
</span><span class="n">user=&gt;</span><span class="w"> </span><span class="p">(</span><span class="nb">get</span><span class="w"> </span><span class="n">v</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w">
</span><span class="mi">1</span><span class="w">
</span><span class="n">user=&gt;</span><span class="w"> </span><span class="p">(</span><span class="nb">get</span><span class="w"> </span><span class="n">v</span><span class="w"> </span><span class="mi">5</span><span class="p">)</span><span class="w">
</span><span class="n">nil</span><span class="w">
</span><span class="n">user=&gt;</span><span class="w"> </span><span class="p">(</span><span class="nb">assoc</span><span class="w"> </span><span class="n">v</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">999</span><span class="p">)</span><span class="w">
</span><span class="p">[</span><span class="mi">1</span><span class="w"> </span><span class="mi">999</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="mi">5</span><span class="p">]</span><span class="w">
</span><span class="n">user=&gt;</span><span class="w"> </span><span class="p">(</span><span class="nb">subvec</span><span class="w"> </span><span class="n">v</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span><span class="w">
</span><span class="p">[</span><span class="mi">4</span><span class="w"> </span><span class="mi">5</span><span class="p">]</span><span class="w">
</span><span class="n">user=&gt;</span><span class="w"> </span><span class="p">(</span><span class="nb">subvec</span><span class="w"> </span><span class="n">v</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="mi">4</span><span class="p">)</span><span class="w">
</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span><span class="w">
</span></code></pre>
</div>

<ul>
  <li>关于map的函数<br />
keys<br />
vals<br />
get<br />
contains?<br />
assoc<br />
dissoc<br />
select-keys<br />
merge<br />
merge-with</li>
</ul>

<div class="language-clojure highlighter-rouge"><pre class="highlight"><code><span class="n">user=&gt;</span><span class="w"> </span><span class="p">(</span><span class="k">def</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="p">{</span><span class="no">:a</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="no">:b</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="no">:c</span><span class="w"> </span><span class="mi">3</span><span class="p">})</span><span class="w">
</span><span class="o">#</span><span class="ss">'user/x</span><span class="w">
</span><span class="n">user=&gt;</span><span class="w"> </span><span class="p">(</span><span class="nb">keys</span><span class="w"> </span><span class="n">x</span><span class="p">)</span><span class="w">
</span><span class="p">(</span><span class="no">:c</span><span class="w"> </span><span class="no">:b</span><span class="w"> </span><span class="no">:a</span><span class="p">)</span><span class="w">
</span><span class="n">user=&gt;</span><span class="w"> </span><span class="p">(</span><span class="nb">vals</span><span class="w"> </span><span class="n">x</span><span class="p">)</span><span class="w">
</span><span class="p">(</span><span class="nf">3</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w">
</span><span class="n">user=&gt;</span><span class="w"> </span><span class="p">(</span><span class="nb">get</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="no">:a</span><span class="p">)</span><span class="w">
</span><span class="mi">1</span><span class="w">
</span><span class="n">user=&gt;</span><span class="w"> </span><span class="p">(</span><span class="nb">get</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="no">:d</span><span class="p">)</span><span class="w">
</span><span class="n">nil</span><span class="w">
</span><span class="n">user=&gt;</span><span class="w"> </span><span class="p">(</span><span class="nb">get</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="no">:d</span><span class="w"> </span><span class="mi">333</span><span class="p">)</span><span class="w">
</span><span class="mi">333</span><span class="w">
</span><span class="n">user=&gt;</span><span class="w"> </span><span class="p">(</span><span class="nb">contains?</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="no">:d</span><span class="p">)</span><span class="w">
</span><span class="n">false</span><span class="w">
</span><span class="n">user=&gt;</span><span class="w"> </span><span class="p">(</span><span class="nb">contains?</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="no">:c</span><span class="p">)</span><span class="w">
</span><span class="n">true</span><span class="w">
</span><span class="n">user=&gt;</span><span class="w"> </span><span class="p">(</span><span class="nb">assoc</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="no">:d</span><span class="w"> </span><span class="mi">4</span><span class="p">)</span><span class="w">
</span><span class="p">{</span><span class="no">:c</span><span class="w"> </span><span class="mi">3</span><span class="n">,</span><span class="w"> </span><span class="no">:b</span><span class="w"> </span><span class="mi">2</span><span class="n">,</span><span class="w"> </span><span class="no">:d</span><span class="w"> </span><span class="mi">4</span><span class="n">,</span><span class="w"> </span><span class="no">:a</span><span class="w"> </span><span class="mi">1</span><span class="p">}</span><span class="w">
</span><span class="n">user=&gt;</span><span class="w"> </span><span class="p">(</span><span class="nb">assoc</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="no">:d</span><span class="w"> </span><span class="mi">5</span><span class="p">)</span><span class="w">
</span><span class="p">{</span><span class="no">:c</span><span class="w"> </span><span class="mi">3</span><span class="n">,</span><span class="w"> </span><span class="no">:b</span><span class="w"> </span><span class="mi">2</span><span class="n">,</span><span class="w"> </span><span class="no">:d</span><span class="w"> </span><span class="mi">5</span><span class="n">,</span><span class="w"> </span><span class="no">:a</span><span class="w"> </span><span class="mi">1</span><span class="p">}</span><span class="w">
</span><span class="n">user=&gt;</span><span class="w"> </span><span class="p">(</span><span class="nb">assoc</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="no">:d</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="no">:e</span><span class="w"> </span><span class="mi">6</span><span class="p">)</span><span class="w">
</span><span class="p">{</span><span class="no">:e</span><span class="w"> </span><span class="mi">6</span><span class="n">,</span><span class="w"> </span><span class="no">:c</span><span class="w"> </span><span class="mi">3</span><span class="n">,</span><span class="w"> </span><span class="no">:b</span><span class="w"> </span><span class="mi">2</span><span class="n">,</span><span class="w"> </span><span class="no">:d</span><span class="w"> </span><span class="mi">5</span><span class="n">,</span><span class="w"> </span><span class="no">:a</span><span class="w"> </span><span class="mi">1</span><span class="p">}</span><span class="w">
</span><span class="n">user=&gt;</span><span class="w"> </span><span class="p">(</span><span class="nb">dissoc</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="no">:e</span><span class="p">)</span><span class="w">
</span><span class="p">{</span><span class="no">:c</span><span class="w"> </span><span class="mi">3</span><span class="n">,</span><span class="w"> </span><span class="no">:b</span><span class="w"> </span><span class="mi">2</span><span class="n">,</span><span class="w"> </span><span class="no">:a</span><span class="w"> </span><span class="mi">1</span><span class="p">}</span><span class="w">
</span><span class="n">user=&gt;</span><span class="w"> </span><span class="p">(</span><span class="nb">dissoc</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="no">:c</span><span class="p">)</span><span class="w">
</span><span class="p">{</span><span class="no">:b</span><span class="w"> </span><span class="mi">2</span><span class="n">,</span><span class="w"> </span><span class="no">:a</span><span class="w"> </span><span class="mi">1</span><span class="p">}</span><span class="w">
</span><span class="n">user=&gt;</span><span class="w"> </span><span class="p">(</span><span class="nb">select-keys</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="p">[</span><span class="no">:a</span><span class="w"> </span><span class="no">:c</span><span class="p">])</span><span class="w">
</span><span class="p">{</span><span class="no">:c</span><span class="w"> </span><span class="mi">3</span><span class="n">,</span><span class="w"> </span><span class="no">:a</span><span class="w"> </span><span class="mi">1</span><span class="p">}</span><span class="w">
</span><span class="n">user=&gt;</span><span class="w"> </span><span class="p">(</span><span class="nb">merge</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="p">{</span><span class="no">:e</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="no">:f</span><span class="w"> </span><span class="mi">6</span><span class="p">})</span><span class="w">
</span><span class="p">{</span><span class="no">:e</span><span class="w"> </span><span class="mi">5</span><span class="n">,</span><span class="w"> </span><span class="no">:c</span><span class="w"> </span><span class="mi">3</span><span class="n">,</span><span class="w"> </span><span class="no">:b</span><span class="w"> </span><span class="mi">2</span><span class="n">,</span><span class="w"> </span><span class="no">:f</span><span class="w"> </span><span class="mi">6</span><span class="n">,</span><span class="w"> </span><span class="no">:a</span><span class="w"> </span><span class="mi">1</span><span class="p">}</span><span class="w">
</span><span class="n">user=&gt;</span><span class="w"> </span><span class="p">(</span><span class="nb">merge</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="p">{</span><span class="no">:e</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="no">:f</span><span class="w"> </span><span class="mi">6</span><span class="p">}</span><span class="w"> </span><span class="p">{</span><span class="no">:e</span><span class="w"> </span><span class="mi">5</span><span class="p">})</span><span class="w">
</span><span class="p">{</span><span class="no">:e</span><span class="w"> </span><span class="mi">5</span><span class="n">,</span><span class="w"> </span><span class="no">:c</span><span class="w"> </span><span class="mi">3</span><span class="n">,</span><span class="w"> </span><span class="no">:b</span><span class="w"> </span><span class="mi">2</span><span class="n">,</span><span class="w"> </span><span class="no">:f</span><span class="w"> </span><span class="mi">6</span><span class="n">,</span><span class="w"> </span><span class="no">:a</span><span class="w"> </span><span class="mi">1</span><span class="p">}</span><span class="w">
</span><span class="n">user=&gt;</span><span class="w"> </span><span class="p">(</span><span class="nb">merge-with</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="p">{</span><span class="no">:e</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="no">:f</span><span class="w"> </span><span class="mi">6</span><span class="p">}</span><span class="w"> </span><span class="p">{</span><span class="no">:e</span><span class="w"> </span><span class="mi">5</span><span class="p">})</span><span class="w">
</span><span class="p">{</span><span class="no">:e</span><span class="w"> </span><span class="mi">5</span><span class="n">,</span><span class="w"> </span><span class="no">:f</span><span class="w"> </span><span class="mi">6</span><span class="p">}</span><span class="w">
</span><span class="n">user=&gt;</span><span class="w"> </span><span class="p">(</span><span class="nb">merge-with</span><span class="w"> </span><span class="nb">+</span><span class="w"> </span><span class="p">{</span><span class="no">:e</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="no">:f</span><span class="w"> </span><span class="mi">6</span><span class="p">}</span><span class="w"> </span><span class="p">{</span><span class="no">:e</span><span class="w"> </span><span class="mi">5</span><span class="p">})</span><span class="w">
</span><span class="p">{</span><span class="no">:e</span><span class="w"> </span><span class="mi">10</span><span class="n">,</span><span class="w"> </span><span class="no">:f</span><span class="w"> </span><span class="mi">6</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<ul>
  <li>关于set的函数<br />
union<br />
intersection<br />
difference<br />
select<br />
rename<br />
project<br />
join</li>
</ul>

<div class="language-clojure highlighter-rouge"><pre class="highlight"><code><span class="n">user=&gt;</span><span class="w"> </span><span class="p">(</span><span class="k">def</span><span class="w"> </span><span class="n">set-1</span><span class="w"> </span><span class="o">#</span><span class="p">{</span><span class="s">"java"</span><span class="w"> </span><span class="s">"c"</span><span class="w"> </span><span class="s">"r"</span><span class="w"> </span><span class="s">"clojure"</span><span class="p">})</span><span class="w">
</span><span class="o">#</span><span class="ss">'user/set-1</span><span class="w">
</span><span class="n">user=&gt;</span><span class="w"> </span><span class="p">(</span><span class="k">def</span><span class="w"> </span><span class="n">set-2</span><span class="w"> </span><span class="o">#</span><span class="p">{</span><span class="s">"java"</span><span class="w"> </span><span class="s">"php"</span><span class="w"> </span><span class="s">"c#"</span><span class="p">})</span><span class="w">
</span><span class="o">#</span><span class="ss">'user/set-2</span><span class="w">
</span><span class="n">user=&gt;</span><span class="w"> </span><span class="p">(</span><span class="nf">use</span><span class="w"> </span><span class="ss">'clojure.set</span><span class="p">)</span><span class="w">
</span><span class="n">nil</span><span class="w">
</span><span class="n">user=&gt;</span><span class="w"> </span><span class="p">(</span><span class="nb">union</span><span class="w"> </span><span class="n">set-1</span><span class="w"> </span><span class="n">set-2</span><span class="p">)</span><span class="w">
</span><span class="o">#</span><span class="p">{</span><span class="s">"c#"</span><span class="w"> </span><span class="s">"clojure"</span><span class="w"> </span><span class="s">"java"</span><span class="w"> </span><span class="s">"php"</span><span class="w"> </span><span class="s">"r"</span><span class="w"> </span><span class="s">"c"</span><span class="p">}</span><span class="w">
</span><span class="n">user=&gt;</span><span class="w"> </span><span class="p">(</span><span class="nb">difference</span><span class="w"> </span><span class="n">set-1</span><span class="w"> </span><span class="n">set-2</span><span class="p">)</span><span class="w">
</span><span class="o">#</span><span class="p">{</span><span class="s">"clojure"</span><span class="w"> </span><span class="s">"r"</span><span class="w"> </span><span class="s">"c"</span><span class="p">}</span><span class="w">
</span><span class="n">user=&gt;</span><span class="w"> </span><span class="p">(</span><span class="nb">intersection</span><span class="w"> </span><span class="n">set-1</span><span class="w"> </span><span class="n">set-2</span><span class="p">)</span><span class="w">
</span><span class="o">#</span><span class="p">{</span><span class="s">"java"</span><span class="p">}</span><span class="w">
</span><span class="n">user=&gt;</span><span class="w"> </span><span class="p">(</span><span class="nb">select</span><span class="w"> </span><span class="o">#</span><span class="p">(</span><span class="nb">=</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="p">(</span><span class="nb">..</span><span class="w"> </span><span class="n">%</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="p">))</span><span class="w"> </span><span class="n">set-1</span><span class="p">)</span><span class="w">
</span><span class="o">#</span><span class="p">{</span><span class="s">"r"</span><span class="w"> </span><span class="s">"c"</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

                

              </div>
              
            </div>
          </div>
        </div>
        <div class="col-md-4 hidden-xs">
          <div class="sidebar ">
  <h2>Recent Posts</h2>
  <ul>
    
    <li><a href="/2017/03/CLOJURE-for-the-BRAVE-and-TRUE-Chapter-02-%E8%AF%91">CLOJURE-for-the-BRAVE-and-TRUE-Chapter-02[译]</a></li>
    
    <li><a href="/2017/03/CLOJURE-for-the-BRAVE-and-TRUE-Chapter-01-%E8%AF%91">CLOJURE-for-the-BRAVE-and-TRUE-Chapter-01[译]</a></li>
    
    <li><a href="/2017/02/%E6%88%91%E6%8B%8D%E7%85%A7%E7%9A%84%E6%97%B6%E5%80%99%E6%98%AF%E5%9C%A8%E6%8B%8D%E4%BB%80%E4%B9%88">我拍照的时候是在拍什么</a></li>
    
    <li><a href="/2017/02/%E5%AE%A2%E6%88%B7%E7%AB%AF%E8%BD%AF%E4%BB%B6%E6%9E%B6%E6%9E%84nodejs+edgejs+electron%E8%B0%83%E6%9F%A5%E6%8A%A5%E5%91%8A">客户端软件架构nodejs+edgejs+electron调查报告</a></li>
    
    <li><a href="/2017/01/%E6%88%91%E6%98%AF%E4%B8%AA%E6%87%92%E4%BA%BA%E4%B9%88-%E6%96%B0%E5%B9%B4%E7%9A%84TODO-LIST">我是个懒人么?新年的TODO LIST</a></li>
    
  </ul>
</div>

<div class="sidebar ">
  <h2>Wechat Official Accounts</h2>
  <img src="/images/qrcode_victoriest.jpg" />
</div>


<div class="sidebar ">
  <h2>Follow me</h2>
    <li>
      <a title="victoriest on Github" href="https://github.com/victoriest" target="_blank"><i class="fa fa-github fa-2x"></i></a>
    </li>

    <li>
      <a title="feed.xml RSS" href="/feed.xml" target="_blank"><i class="fa fa-rss fa-2x"></i></a>
    </li>
  </ul>
</div>
<!--
<ul class="social-media">

  
    <li>
      <a title="victoriest on Github" href="https://github.com/victoriest" target="_blank"><i class="fa fa-github fa-2x"></i></a>
    </li>
  

  
    <li>
      <a title="feed.xml RSS" href="/feed.xml" target="_blank"><i class="fa fa-rss fa-2x"></i></a>
    </li>
  

</ul>

<div class="sidebar">
  <h2>Tags</h2>
  <ul>
    
      <li><a href="/tag/golang">golang</a></li>
    
      <li><a href="/tag/tcp服务器">tcp服务器</a></li>
    
      <li><a href="/tag/clojure">clojure</a></li>
    
      <li><a href="/tag/protobuff">protobuff</a></li>
    
      <li><a href="/tag/IntelliJ">IntelliJ</a></li>
    
      <li><a href="/tag/Leiningen">Leiningen</a></li>
    
      <li><a href="/tag/storm">storm</a></li>
    
      <li><a href="/tag/zookeeper">zookeeper</a></li>
    
      <li><a href="/tag/PerSharding">PerSharding</a></li>
    
      <li><a href="/tag/一致性哈希">一致性哈希</a></li>
    
      <li><a href="/tag/分布式缓存">分布式缓存</a></li>
    
      <li><a href="/tag/负载均衡">负载均衡</a></li>
    
      <li><a href="/tag/apache">apache</a></li>
    
      <li><a href="/tag/tomcat">tomcat</a></li>
    
      <li><a href="/tag/vim">vim</a></li>
    
      <li><a href="/tag/jabber">jabber</a></li>
    
      <li><a href="/tag/java">java</a></li>
    
      <li><a href="/tag/BTrace">BTrace</a></li>
    
      <li><a href="/tag/js">js</a></li>
    
      <li><a href="/tag/摄影">摄影</a></li>
    
      <li><a href="/tag/nodejs">nodejs</a></li>
    
      <li><a href="/tag/electron">electron</a></li>
    
  </ul>
</div>
-->
        </div>
      </div>
    </div>
    

  </div>
      <footer class="footer-distributed">
      <div class="container">
        <div class="footer">
          <p>VcitoriEST &copy; 2016. Powered by <a href="http://jekyllrb.com/">jekyll,</a> <a href="https://github.com/streetturtle/jekyll-clean-dark">Jekyll Clean Dark</a></p>
          <h6>Follow me</h6>

<ul class="social-media">

  
    <li>
      <a title="victoriest on Github" href="https://github.com/victoriest" target="_blank"><i class="fa fa-github fa-2x"></i></a>
    </li>
  

  

  

  

  

  
    <li>
      <a title="feed.xml RSS" href="/feed.xml" target="_blank"><i class="fa fa-rss fa-2x"></i></a>
    </li>
  

</ul>

        </div>
      </div>
    </footer>
  </body>
</html>

</div>
